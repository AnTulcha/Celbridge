<UserControl
    x:Class="Celbridge.Views.CelNode"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:toolkit="using:CommunityToolkit.WinUI.UI"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
    ManipulationMode="TranslateX, TranslateY"
    DataContext="{x:Bind ViewModel}"
    ManipulationStarted="CelNode_ManipulationStarted"
    ManipulationDelta="CelNode_ManipulationDelta"
    ManipulationCompleted="CelNode_ManipulationCompleted"
    Tapped="CelNode_Tapped">

    <Canvas toolkit:UIElementExtensions.ClipToBounds="False">
        <Grid x:Name="CelGrid" 
              ToolTipService.ToolTip="{x:Bind ViewModel.TooltipText, Mode=OneWay}"
              ToolTipService.Placement="Bottom">
            <Grid.RowDefinitions>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="auto"/>
            </Grid.RowDefinitions>

            <Ellipse Grid.Row="0" 
                     Width="38"
                     Height="38"
                     Fill="{x:Bind ViewModel.FillColor, Mode=OneWay}"
                     Stroke="{x:Bind ViewModel.StrokeColor, Mode=OneWay}"
                     StrokeThickness="{x:Bind ViewModel.StrokeThickness, Mode=OneWay}">
            </Ellipse>
        </Grid>
    </Canvas>
</UserControl>
