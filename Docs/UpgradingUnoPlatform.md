# Upgrading Uno Platform

I've upgraded this project through two major Uno Platform version upgrades and here's what I've learned so far.

# Uno Platform Upgrades

Uno releases a major update of Uno Platform annually. These updates target the latest version of .NET, which is also updated annually.

## When To Upgrade

So far I've had a bad experience upgrading using the first minor release (e.g. Uno Platform 5.0) as there's still a few loose ends that can prevent a smooth upgrade. For example, Uno Platform 5.0 didn't support Uno class libraries targeting .NET 8. I think it's better to wait for at least the first point release before attempting to upgrade so they've had a chance to flush out issues like this.

## Rebuilding the Project Structure

So far, each major point release of Uno Platform has had introduced significant breaking changes in their default project file structure, as generated by the Uno Platform Templates.

It's very fiddly to try to modify an existing project file to match the new structure. A better approach is to create a new Uno Platform app solution from scratch, using the Uno Templates for Visual Studio. Recreate the project structure and dependencies, and then copy the code for each project over to the new solution. 

Adding the project and package references again is a good opportunity to review them and see if each dependency is still necessary and if packages are up to date.

## Add Uno Platform Projects

After adding a new Uno Class Library Project, do these steps:

* Remove the unused target frameworks:
** $(DotNetVersion)-ios;$(DotNetVersion)-maccatalyst;$(DotNetVersion)-android
* Remove explicit package versions (we define these centrally in Directory.Packages.props)
* Delete the Version attribute in all PackageReference items.

## Upgrading Package Dependencies

We manage package versions centrally, so the easiest way to upgrade them is via Tools > Nuget Package Manager > Manage Nuget Packages for Solution.


